<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Four Column Web Page</title>
<style>
 body {
    background-image: url('https://img.freepik.com/free-vector/simple-blue-gradient-background-vector-business_53876-174922.jpg?size=626&ext=jpg&ga=GA1.1.735520172.1711411200&semt=ais');  /* Replace with your image path */
    /*background-repeat: no-repeat;  /* Optional: Controls how the image repeats */
    /*background-position: center;  /* Optional: Positions the image within the element */
    background-size: cover;      /* Optional: Controls how the image fits the element */
  }
  /*<meta name="viewport" content="width=device-width, initial-scale=1.0">*/

  table {
    width: 100%;
    border-collapse: collapse;
  }
  th, td {
    text-align: left;
    padding: 8px;
    border: 1px solid #ddd;
  }
  th {
    background-color: #f2f2f2;
  }
  h1 {
    text-align: center;
  }
 
  h2 {
    text-align: center;
  }
</style>
</head>
<body>
<h1>Comparision of Accessibiltiy tools</h1>
<h2>Accessibiltiy Testing</h2>

<table id='table001'>
  <tr>
    <th>Accessible Check</th>
    <th>Wave</th>
    <th>AChecker</th>
    <th>Lighthouse</th>
    <th>Details</th>
  </tr>
  <!-- <tr>
    <td id='key001'>Result</td>
    <td>Result</td>
    <td>Result</td>
    <td>Result</td>
    <td>Result</td>
  </tr>
  <tr>
    <td id='key002'>Result</td>
    <td>Result</td>
    <td>Result</td>
    <td>Result</td>
    <td>Result</td>
  </tr>
  <tr>
    <td id='key003'>Result</td>
    <td>Result</td>
    <td>Result</td>
    <td>Result</td>
    <td>Result</td>
  </tr>
  <tr>
    <td id='key004'>Result</td>
    <td>Result</td>
    <td>Result</td>
    <td>Result</td>
    <td>Result</td>
  </tr> -->

  
  <!-- Add more rows here as needed -->
</table>

<script>
    let myMap = new Map();
    let rowCount = 1;
    async function fetchData(){
    fetch('wave_data.json')
        .then(response => response.json())
        .then(data => {
            console.log("****");
            console.log(Object.keys(data));
            const keys = Object.keys(data);
            // document.getElementById('key001').innerText=keys[0];
            // document.getElementById('key002').innerText=keys[1];
            // document.getElementById('key003').innerText=keys[2];
            // document.getElementById('key004').innerText=keys[3];
            const table = document.getElementById('table001').getElementsByTagName('tbody')[0];
            // // Assuming each key in the JSON object is an array of string items
            Object.keys(data).forEach(key => {
                    myMap.set(key, rowCount);
                // data[key].forEach(item => {
                    const row = table.insertRow();
                    const cell = row.insertCell();
                    const cell1 = row.insertCell();
                    const cell2 = row.insertCell();
                    const cell3 = row.insertCell();
                    const cell4 = row.insertCell();
                    cell.innerText = key;
                    //cell1.innerText = data[key]; // Using innerHTML to render the HTML content
                    cell1.innerText = data[key].length;
                    cell2.innerText = 0;
                    cell3.innerText = 0;
                    rowCount++;
                // });
            });
            console.log(myMap);
            
        })
        .catch(error => {
            console.error('Error fetching or parsing the JSON file:', error);
        });

  fetch('achecker_data.json')
      .then(response => response.json())
      .then(data => {
          console.log("****");
          console.log(Object.keys(data));
          const keys = Object.keys(data);
          // document.getElementById('key001').innerText=keys[0];
          // document.getElementById('key002').innerText=keys[1];
          // document.getElementById('key003').innerText=keys[2];
          // document.getElementById('key004').innerText=keys[3];
          const table = document.getElementById('table001').getElementsByTagName('tbody')[0];
          // // Assuming each key in the JSON object is an array of string items
          Object.keys(data).forEach(key => {
              // data[key].forEach(item => {
                  let flag = false;
                  for (let index = 0; index < table.rows.length; index++) {
                    let errorName=table.rows[index].cells[0].innerHTML;
                    console.log(errorName);
                    if(myMap.get('Missing alternative text')!=undefined){
                      if(key == 'img element missing alt attribute.') {
                          //table.rows[myMap.get('Missing alternative text')].cells[2].innerText = data[key];
                          table.rows[myMap.get('Missing alternative text')].cells[2].innerText = data[key].length;
                          flag=true;
                          break;
                      }
                    }
                    if(myMap.get('Missing form label')!=undefined){
                      if(key.includes('missing an associated label.')) {
                          //table.rows[myMap.get('Missing form label')].cells[2].innerText = data[key];
                          table.rows[myMap.get('Missing form label')].cells[2].innerText = data[key].length;
                          flag=true;
                          break;
                      }
                    }
                    
                  }
                  if(flag == true){
                    return;
                  }
                  const row = table.insertRow();
                  const cell = row.insertCell();
                  const cell1 = row.insertCell();
                  const cell2 = row.insertCell();
                  const cell3 = row.insertCell();
                  const cell4 = row.insertCell();
                  cell.innerText = key;
                  //cell2.innerText = data[key]; // Using innerHTML to render the HTML content
                  cell2.innerText = data[key].length;
                  cell1.innerText = 0;
                  cell3.innerText = 0;
              // });
          });
          
      })
      .catch(error => {
          console.error('Error fetching or parsing the JSON file:', error);
      });
  fetch('lighthouse_data.json')
      .then(response => response.json())
      .then(data => {
          console.log("****");
          console.log(Object.keys(data));
          const keys = Object.keys(data);
          // document.getElementById('key001').innerText=keys[0];
          // document.getElementById('key002').innerText=keys[1];
          // document.getElementById('key003').innerText=keys[2];
          // document.getElementById('key004').innerText=keys[3];
          const table = document.getElementById('table001').getElementsByTagName('tbody')[0];
          // // Assuming each key in the JSON object is an array of string items
          Object.keys(data).forEach(key => {
              // data[key].forEach(item => {
                  let flag = false;
                  for (let index = 0; index < table.rows.length; index++) {
                    let errorName=table.rows[index].cells[0].innerHTML;
                    console.log(errorName);
                    if(myMap.get('Missing alternative text')!=undefined){
                      if(key == 'Image elements do not have `[alt]` attributes') {
                          //table.rows[myMap.get('Missing alternative text')].cells[3].innerText = data[key];
                          table.rows[myMap.get('Missing alternative text')].cells[3].innerText = data[key].length;
                          flag=true;
                          break;
                      }
                    }
                    if(myMap.get('Empty button')!=undefined){
                      if(key.includes('Buttons do not have an accessible name')) {
                          //table.rows[myMap.get('Empty button')].cells[3].innerText = data[key];
                          table.rows[myMap.get('Empty button')].cells[3].innerText = data[key].length;
                          flag=true;
                          break;
                      }
                    }
                    if(myMap.get('Empty link')!=undefined){
                      if(key.includes('Links do not have a discernible name')) {
                          //table.rows[myMap.get('Empty link')].cells[3].innerText = data[key];
                          table.rows[myMap.get('Empty link')].cells[3].innerText = data[key].length;
                          flag=true;
                          break;
                      }
                    }
                    if(myMap.get('Missing form label')!=undefined){
                      if(key.includes('Form elements do not have associated label')) {
                          //table.rows[myMap.get('Missing form label')].cells[3].innerText = data[key];
                          table.rows[myMap.get('Missing form label')].cells[3].innerText = data[key].length;
                          flag=true;
                          break;
                      }
                    }
                    
                  }
                  
                  if(flag == true){
                    return;
                  }

                  const row = table.insertRow();
                  const cell = row.insertCell();
                  const cell1 = row.insertCell();
                  const cell2 = row.insertCell();
                  const cell3 = row.insertCell();
                  const cell4 = row.insertCell();
                  cell.innerText = key;
                  //cell3.innerText = data[key]; // Using innerHTML to render the HTML content
                  cell3.innerText = data[key].length; 
                  cell1.innerText = 0; 
                  cell2.innerText = 0; 
              // });
          });
          
      })
      .catch(error => {
          console.error('Error fetching or parsing the JSON file:', error);
      });
    }
    fetchData();
</script>



</body>
</html>
